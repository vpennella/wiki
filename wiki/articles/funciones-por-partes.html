<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Funciones por partes</title>
  <meta property="og:title" content="Funciones por partes" />






<link rel="canonical" href="wiki.uqbar.org/wiki/articles/funciones-por-partes.html" />
<meta property="og:url" content="wiki.uqbar.org/wiki/articles/funciones-por-partes.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-09-08T12:53:01-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" >
    <link type="text/plain" rel="author" href="/humans.txt"/>
    <link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">

    <link rel="stylesheet" href="/assets/app-03d85529abca8a6b9780ed56673aae09.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a id="pagetitle" href="/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Ayuda</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/wiki/articles/FAQ.html">FAQ</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/como-empezar.html">Cómo colaborar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navegación</a>
                <ul class="dropdown">
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows" align="center">
        <img src="/img/logoUqbar.jpg" height="70%" width="70%">
    </div>
    <div align="center">
    	<p>
    		<a href="http://www.uqbar-project.org/">Conocenos</a> 
    	</p>
    </div>

    <hr>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Links" role="menu">
        <li class="button" role="menuitem"><a href="/">Home</a></li>
        <li class="button" role="menuitem"><a href="/articles">Lista de articulos</a></li>
    </ul>

    <hr>

	<ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Materias" role="menu">
            <li class="button" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        <i>Funciones por partes</i>
    </h1>

    <div id="siteSub">De Uqbar wiki</div>
</div>



<div id="article_content">
    <h3 id="concepto-matemático">Concepto Matemático</h3>

<p>Las funciones partidas ó definidas por partes ó por trozos son funciones que para diferentes valores del dominio, tienen una definición diferente. Por ejemplo, si tenemos que definir la función Módulo, para ciertos valores del dominio la función será <code class="highlighter-rouge">f(x)</code> <code class="highlighter-rouge">=</code> <code class="highlighter-rouge">x</code> y para otros valores será <code class="highlighter-rouge">f(x)</code> <code class="highlighter-rouge">=</code> <code class="highlighter-rouge">-x</code></p>

<h4 id="notación-matemática">Notación Matemática</h4>

<p><img src="/img/wiki/modulo.gif " title="modulo.gif " alt="" /></p>

<h4 id="código-en-haskell">Código en Haskell</h4>

<p>En Haskell, las funciones partidas se escriben con Guardas, y se escribe la imagen de cada parte <em>a la derecha</em> del igual:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="p">`</span><span class="n">f</span><span class="err"> </span><span class="n">x</span><span class="err"> </span><span class="o">|</span><span class="err"> </span><span class="n">x</span><span class="err"> </span><span class="o">&gt;=</span><span class="err"> </span><span class="mi">0</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">x</span>
<span class="err">    </span><span class="o">|</span><span class="err"> </span><span class="n">x</span><span class="err"> </span><span class="o">&lt;</span><span class="err">  </span><span class="mi">0</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="o">-</span><span class="n">x</span>
</code></pre>
</div>

<p>Las funciones por partes no son la única forma de tener diferentes definiciones para una función, existen casos en los cuales alcanza con el uso de <a href="pattern-matching-en-haskell.html">pattern matching</a>.</p>

<h3 id="errores-comunes">Errores Comunes</h3>

<p>No debemos confundir el uso de guardas (cuyo concepto se explicó arriba) con las funciones que devuelven booleanos.</p>

<h4 id="ejemplo-1">Ejemplo 1</h4>

<p>Tomemos éste ejemplo: “Cierta edad es adulta cuando es 18 ó más”</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">esAdulta</span><span class="err"> </span><span class="n">edad</span><span class="err"> </span><span class="o">|</span><span class="err"> </span><span class="n">edad</span><span class="err"> </span><span class="o">&gt;=</span><span class="err"> </span><span class="mi">18</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="kt">True</span>
<span class="err">              </span><span class="o">|</span><span class="err"> </span><span class="n">otherwise</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="kt">False</span>
</code></pre>
</div>

<p>¡Pero esto es un uso incorrecto de las guardas! En otras palabras: Si una expresión es verdadera ó falsa <em>por sí sola</em>, no se lo debo preguntar, tengo que devolver directamente eso.</p>

<p>Ésta es la <strong>manera correcta</strong> de hacerlo:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">esAdulta</span><span class="err"> </span><span class="n">edad</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">edad</span><span class="err"> </span><span class="o">&gt;=</span><span class="err"> </span><span class="mi">18</span><span class="p">`</span>
</code></pre>
</div>

<h4 id="ejemplo-2">Ejemplo 2</h4>

<p>Representemos una función que me diga si alguien siempre dice la verdad, sabiendo que “los niños y los borrachos siempre dicen la verdad” Ésta es una manera de hacerlo, errónea:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">siempreDiceLaVerdad</span><span class="err"> </span><span class="n">alguien</span><span class="err"> </span><span class="o">|</span><span class="err"> </span><span class="n">esNi</span><span class="err">ñ</span><span class="n">o</span><span class="err"> </span><span class="n">alguien</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="kt">True</span>
<span class="err">                            </span><span class="o">|</span><span class="err"> </span><span class="n">esBorracho</span><span class="err"> </span><span class="n">alguien</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="kt">True</span>
<span class="err">                            </span><span class="o">|</span><span class="err"> </span><span class="n">otherwise</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="kt">False</span>
</code></pre>
</div>

<p>Si bien ésto funciona, es un mal uso de las funciones por partes, ya que no es cierto que esa función tenga diferentes “partes”. La definición es lógica, y es <em>una sola</em>. Es un “ó” lógico:</p>

<p>¿Cuando alguien dice la verdad?</p>

<ul>
  <li>cuando es niño</li>
  <li>ó</li>
  <li>cuando es borracho</li>
</ul>

<p><em>Esa es la definición de la función</em>. Recordemos que el <strong>ó</strong> logico se escribe así:</p>

<p><code class="highlighter-rouge">Main&gt; (1&gt;34) || (even 4)</code>
<code class="highlighter-rouge">True</code></p>

<p>y el <strong>y</strong> lógico se escribe así:</p>

<p><code class="highlighter-rouge">Main&gt; (1&gt;34) &amp;&amp; (even 4)</code>
<code class="highlighter-rouge">False</code></p>

<p>Entonces, mi función se define <strong>sin guardas</strong>, de ésta manera:</p>

<p><code class="highlighter-rouge">siempreDiceLaVerdad alguien = esNiño alguien || esBorracho alguien</code></p>

<h4 id="ejemplo-3-no-usar-pattern-matching">Ejemplo 3: No usar pattern matching</h4>

<p>A veces, cuando estamos aprendiendo guardas, nos olvidamos que poseemos <a href="pattern-matching-en-haskell.html">Pattern Matching en Haskell</a>.</p>

<p>En otras palabras, podríamos tener una función así:</p>

<p><code class="highlighter-rouge">ivaPara actividad | actividad == "cultural" = 0.0</code>
<code class="highlighter-rouge">                  | actividad == "alimentaria" = 10.5</code>
<code class="highlighter-rouge">                  | otherwise = 21.0</code></p>

<p>Cuando en realidad, con Pattern Matching, podría quedar más declarativo:</p>

<p><code class="highlighter-rouge">ivaPara "cultural" = 0.0</code>
<code class="highlighter-rouge">ivaPara "alimentaria" = 10.5</code>
<code class="highlighter-rouge">ivaPara _ = 21.0</code></p>

<p>Otro ejemplo de lo mismo:</p>

<p><code class="highlighter-rouge">longitud lista | null lista = 0</code>
<code class="highlighter-rouge">              | otherwise = 1 + longitud (tail lista)</code></p>

<p>Cuando quedaría más declarativo:</p>

<p><code class="highlighter-rouge">longitud [] = 0</code>
<code class="highlighter-rouge">longitud (_:resto) = 1 + longitud resto</code></p>

<h4 id="ejemplo-4-repetición-de-código">Ejemplo 4: Repetición de código</h4>

<p>Cuando se repite código a ambos lados de la guarda, ésto es un problema:</p>

<p><code class="highlighter-rouge">f a | a &lt; 3     = 2 </code><strong><code class="highlighter-rouge">+</code> <code class="highlighter-rouge">5</code> <code class="highlighter-rouge">*</code> <code class="highlighter-rouge">g</code> <code class="highlighter-rouge">a</code></strong>
<code class="highlighter-rouge">    | otherwise = 1 </code><strong><code class="highlighter-rouge">+</code> <code class="highlighter-rouge">5</code> <code class="highlighter-rouge">*</code> <code class="highlighter-rouge">g</code> <code class="highlighter-rouge">a</code></strong></p>

<p>Que puede arreglarse así:</p>

<p><strong><code class="highlighter-rouge">f</code> <code class="highlighter-rouge">a</code> <code class="highlighter-rouge">=</code> <code class="highlighter-rouge">fAux</code> <code class="highlighter-rouge">a</code> <code class="highlighter-rouge">+</code> <code class="highlighter-rouge">5</code> <code class="highlighter-rouge">*</code> <code class="highlighter-rouge">g</code> <code class="highlighter-rouge">a</code></strong>
<code class="highlighter-rouge">fAux a | a &lt; 3 = 2</code>
<code class="highlighter-rouge">       | otherwise = 1</code></p>

<h4 id="ejemplo-5-repetición-de-código-más-rebuscada">Ejemplo 5: Repetición de código más rebuscada</h4>

<p>También puede pasar que se repita código entre las guardas de esta manera:</p>

<p><em>Se quiere saber el precio del boleto a partir de la cantidad de kms que voy a recorrer. Se sabe que a partir de 4 km, el cálculo del boleto es el cálculo máximo ($2 + $0.1 x cantidad de kms), mientras que hasta los 4km, el cálculo es el 110% del cálculo máximo</em></p>

<p>Se propuso esta solución:</p>

<p><code class="highlighter-rouge">precioBoleto kms | kms &gt;= 4  = </code><strong><code class="highlighter-rouge">2</code> <code class="highlighter-rouge">+</code> <code class="highlighter-rouge">0.1</code> <code class="highlighter-rouge">*</code> <code class="highlighter-rouge">kms</code></strong>
<code class="highlighter-rouge">                 | otherwise = 110 / 100 * (</code><strong><code class="highlighter-rouge">2</code> <code class="highlighter-rouge">+</code> <code class="highlighter-rouge">0.1</code> <code class="highlighter-rouge">*</code> <code class="highlighter-rouge">kms</code></strong><code class="highlighter-rouge">)</code></p>

<p>Pero arriba y abajo se repite <code class="highlighter-rouge">2</code> <code class="highlighter-rouge">+</code> <code class="highlighter-rouge">0.1</code> <code class="highlighter-rouge">*</code> <code class="highlighter-rouge">kms</code>). En este caso, se arregla con la forma más común de corregir la repetición de lógica: <strong>delegando</strong> en ambos casos en la misma función.</p>

<p>En otras palabras, si yo tengo:</p>

<p><code class="highlighter-rouge">maximo kms = 2 + 0.1 * kms</code></p>

<p>Entonces esa lógica está ahora en <strong>un sólo lugar</strong>, que puedo llamar desde donde necesite:</p>

<p><code class="highlighter-rouge">-- Solución final correcta:</code>
<code class="highlighter-rouge">precioBoleto kms | kms &gt;= 4  = </code><strong><code class="highlighter-rouge">maximo</code> <code class="highlighter-rouge">kms</code></strong>
<code class="highlighter-rouge">                 | otherwise = 110 / 100 * (</code><strong><code class="highlighter-rouge">maximo</code> <code class="highlighter-rouge">kms</code></strong><code class="highlighter-rouge">)</code></p>

<p>Hay otras formas mejores y peores de evitar éste tipo de repeticiones, pero ésta forma (delegando) es bastante buena y sirve en muchos casos.</p>

</div>



<div id="article_metadata">
    <p><i>Latest update on July 17, 2017 by
        GitHub</i></p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>140</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Fernando Dodino</td>
                                <td>fernand...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>917a5fe</td>
                        <td>Mon Jul 17 23:16:02 2017 -0300</td>
                        <td>GitHub</td>
                        <td>noreply...</td>
                        <td>Update deploy-en-maven-central.md</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer - Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
