<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Paradigma logico   casos de no inversibilidad</title>
  <meta property="og:title" content="Paradigma logico   casos de no inversibilidad" />






<link rel="canonical" href="wiki.uqbar.org/wiki/articles/paradigma-logico---casos-de-no-inversibilidad.html" />
<meta property="og:url" content="wiki.uqbar.org/wiki/articles/paradigma-logico---casos-de-no-inversibilidad.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-09-08T12:53:01-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" >
    <link type="text/plain" rel="author" href="/humans.txt"/>
    <link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">

    <link rel="stylesheet" href="/assets/app-03d85529abca8a6b9780ed56673aae09.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a id="pagetitle" href="/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Ayuda</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/wiki/articles/FAQ.html">FAQ</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/como-empezar.html">Cómo colaborar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navegación</a>
                <ul class="dropdown">
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows" align="center">
        <img src="/img/logoUqbar.jpg" height="70%" width="70%">
    </div>
    <div align="center">
    	<p>
    		<a href="http://www.uqbar-project.org/">Conocenos</a> 
    	</p>
    </div>

    <hr>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Links" role="menu">
        <li class="button" role="menuitem"><a href="/">Home</a></li>
        <li class="button" role="menuitem"><a href="/articles">Lista de articulos</a></li>
    </ul>

    <hr>

	<ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Materias" role="menu">
            <li class="button" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        <i>Paradigma logico   casos de no inversibilidad</i>
    </h1>

    <div id="siteSub">De Uqbar wiki</div>
</div>



<div id="article_content">
    <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">Introducción</span></a>
            </li>
            <li class="toc_level-1 toc_section-2">
              <a href="#tocAnchor-1-2"><span class="tocnumber">2</span> <span class="toctext">Hechos con variables</span></a>
            </li>
            <li class="toc_level-1 toc_section-3">
              <a href="#tocAnchor-1-3"><span class="tocnumber">3</span> <span class="toctext">Negación</span></a>
            </li>
            <li class="toc_level-1 toc_section-4">
              <a href="#tocAnchor-1-4"><span class="tocnumber">4</span> <span class="toctext">Aritmética</span></a>
            </li>
            <li class="toc_level-1 toc_section-5">
              <a href="#tocAnchor-1-5"><span class="tocnumber">5</span> <span class="toctext">Comparación</span></a>
            </li>
            <li class="toc_level-1 toc_section-6">
              <a href="#tocAnchor-1-6"><span class="tocnumber">6</span> <span class="toctext">Findall</span></a>
              <ul>
                <li class="toc_level-2 toc_section-7">
                  <a href="#tocAnchor-1-6-1"><span class="tocnumber">6.1</span> <span class="toctext">Un ejemplo futbolero</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-8">
              <a href="#tocAnchor-1-8"><span class="tocnumber">7</span> <span class="toctext">Forall</span></a>
            </li>
            <li class="toc_level-1 toc_section-9">
              <a href="#tocAnchor-1-9"><span class="tocnumber">8</span> <span class="toctext">Functores y polimorfismo</span></a>
            </li>
            <li class="toc_level-1 toc_section-10">
              <a href="#tocAnchor-1-10"><span class="tocnumber">9</span> <span class="toctext">En resumen</span></a>
              <ul>
                <li class="toc_level-2 toc_section-11">
                  <a href="#tocAnchor-1-10-1"><span class="tocnumber">9.1</span> <span class="toctext">Hechos con variables</span></a>
                </li>
                <li class="toc_level-2 toc_section-12">
                  <a href="#tocAnchor-1-10-2"><span class="tocnumber">9.2</span> <span class="toctext">Negación</span></a>
                </li>
                <li class="toc_level-2 toc_section-13">
                  <a href="#tocAnchor-1-10-3"><span class="tocnumber">9.3</span> <span class="toctext">Aritmética</span></a>
                </li>
                <li class="toc_level-2 toc_section-14">
                  <a href="#tocAnchor-1-10-4"><span class="tocnumber">9.4</span> <span class="toctext">Comparación</span></a>
                </li>
                <li class="toc_level-2 toc_section-15">
                  <a href="#tocAnchor-1-10-5"><span class="tocnumber">9.5</span> <span class="toctext">findall</span></a>
                </li>
                <li class="toc_level-2 toc_section-16">
                  <a href="#tocAnchor-1-10-6"><span class="tocnumber">9.6</span> <span class="toctext">forall</span></a>
                </li>
                <li class="toc_level-2 toc_section-17">
                  <a href="#tocAnchor-1-10-7"><span class="tocnumber">9.7</span> <span class="toctext">Functores y Polimorfismo</span></a>
                </li>
              </ul>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h1 id="tocAnchor-1-1">Introducción</h1>

<p>Los casos de no inversibilidad, y algunos de no funcionamiento o respuestas incorrectas, están relacionados con variables que no están ligadas en cierto punto (recordando que el análisis debe hacerse “de izquierda a derecha”) y deben estarlo, o (menos probable) al revés, variables que deben llegar a cierto punto sin ligar y están ligadas.</p>

<p>Veamos varios casos, que incluyen todos los casos de no-inversibilidad que vemos en la materia.</p>

<h1 id="tocAnchor-1-2">Hechos con variables</h1>

<p>Por lo general aquellos predicados definidos en base a hechos no suelen ser problemáticos, porque lo normal es que incluyan información sobre los individuos a los cuales se refieren. Sin embargo, el siguiente es un hecho válido que no es inversible para su segunda aridad:</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="ss">leGusta</span><span class="p">(</span><span class="ss">pepe</span><span class="p">,</span><span class="err"> </span><span class="nv">_</span><span class="p">).</span>
</code></pre>
</div>

<p>Eso dice que a pepe le gusta cualquier cosa, sin acotar de ninguna forma qué podría ser aquello que le gusta. Para hacer el predicado inversible, deberíamos acotar qué puede ser aquello que le gusta convirtiéndolo en una regla, por ejemplo:</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="ss">leGusta</span><span class="p">(</span><span class="ss">pepe</span><span class="p">,</span><span class="err"> </span><span class="nv">Comida</span><span class="p">):-</span><span class="err"> </span><span class="ss">comida</span><span class="p">(</span><span class="nv">Comida</span><span class="p">).</span>
</code></pre>
</div>

<h1 id="tocAnchor-1-3">Negación</h1>

<p><strong>Negación:</strong> las variables que aparecen en la parte de la cláusula deben llegar ligadas, a menos que sean variables afectadas por un “para ningún”, en este caso deben llegar libres. P.ej. esta definición del predicado esPlantaComestible</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">esPlantaComestible</span><span class="p">(</span><span class="nv">Planta</span><span class="p">):-</span><span class="err"> </span><span class="ss">not</span><span class="p">(</span><span class="ss">esVenenosa</span><span class="p">(</span><span class="nv">Planta</span><span class="p">)).</span>
</code></pre>
</div>

<p>no es inversible, porque Planta debe estar ligada antes de llegar al <code class="highlighter-rouge">not</code>. ¿Por qué? Ver <a href="paradigma-logico---negacion.html">Paradigma Lógico - negación</a>
Para hacer al predicado inversible, generamos el dominio de la variable Planta</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="ss">esPlantaComestible</span><span class="p">(</span><span class="nv">Planta</span><span class="p">):-</span><span class="err"> </span><span class="ss">esPlanta</span><span class="p">(</span><span class="nv">Planta</span><span class="p">),</span><span class="err"> </span><span class="ss">not</span><span class="p">(</span><span class="ss">esVenenosa</span><span class="p">(</span><span class="nv">Planta</span><span class="p">)).</span>
</code></pre>
</div>

<h1 id="tocAnchor-1-4">Aritmética</h1>

<p>**Aritmética: ** todas las variables a la derecha del is deben llegar ligadas al is. P.ej. el predicado precioPorCantidad definido así</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">precioPorCantidad</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Cantidad</span><span class="p">,</span><span class="nv">PrecioTotal</span><span class="p">):-</span><span class="err"> </span>
<span class="err">       </span><span class="ss">precioPlanta</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Precio</span><span class="p">),</span><span class="err"> </span><span class="nv">PrecioTotal</span><span class="err"> </span><span class="ss">is</span><span class="err"> </span><span class="nv">Cantidad</span><span class="err"> </span><span class="o">*</span><span class="err"> </span><span class="nv">Precio</span><span class="p">.</span>
</code></pre>
</div>

<p>no es inversible para el 2do argumento, porque si no se indica un número para Cantidad en la consulta, al llegar a la cuenta hay una variable no ligada a la derecha del <code class="highlighter-rouge">is</code>.
En este caso no hay forma trivial de arreglarlo para que el predicado sea totalmente inversible.</p>

<p>En este caso</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">importeCompra</span><span class="p">(</span><span class="nv">Persona</span><span class="p">,</span><span class="err"> </span><span class="nv">ImporteTotal</span><span class="p">):-</span><span class="err"> </span>
<span class="err">       </span><span class="nv">ImporteTotal</span><span class="err"> </span><span class="ss">is</span><span class="err"> </span><span class="nv">Precio</span><span class="o">*</span><span class="mf">1.21</span><span class="p">,</span><span class="err"> </span><span class="ss">compra</span><span class="p">(</span><span class="nv">Persona</span><span class="p">,</span><span class="err"> </span><span class="nv">Planta</span><span class="p">),</span><span class="err"> </span>
       <span class="ss">precioPlanta</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Precio</span><span class="p">).</span>
</code></pre>
</div>

<p>ninguna consulta que involucre a esta cláusula va a andar porque no hay forma de que la variable Precio esté ligada al momento de hacer la cuenta. Arreglar este caso es fácil: ponemos el <code class="highlighter-rouge">is</code> al lado del punto</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">importeCompra</span><span class="p">(</span><span class="nv">Persona</span><span class="p">,</span><span class="err"> </span><span class="nv">ImporteTotal</span><span class="p">):-</span><span class="err"> </span>
<span class="err">       </span><span class="ss">compra</span><span class="p">(</span><span class="nv">Persona</span><span class="p">,</span><span class="err"> </span><span class="nv">Planta</span><span class="p">),</span><span class="err"> </span>
       <span class="ss">precioPlanta</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Precio</span><span class="p">),</span><span class="err"> </span>
       <span class="nv">ImporteTotal</span><span class="err"> </span><span class="ss">is</span><span class="err"> </span><span class="nv">Precio</span><span class="o">*</span><span class="mf">1.21</span><span class="p">.</span>
</code></pre>
</div>

<h1 id="tocAnchor-1-5">Comparación</h1>

<p>Si se compara por mayor, menor, mayor o igual, menor o igual, distinto, lo que comparemos debe estar ligado. P.ej. esta definición</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">plantaHeavy</span><span class="p">(</span><span class="nv">Planta</span><span class="p">):-</span><span class="nv">Nivel</span><span class="err"> </span><span class="o">&gt;</span><span class="err"> </span><span class="m">5</span><span class="p">,</span><span class="err"> </span><span class="ss">nivelVeneno</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Nivel</span><span class="p">).</span>
</code></pre>
</div>

<p>es incorrecta, porque Nivel no está ligado al momento de comparar. Esta forma</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">plantaHeavy</span><span class="p">(</span><span class="nv">Planta</span><span class="p">):-</span><span class="ss">nivelVeneno</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Nivel</span><span class="p">),</span><span class="nv">Nivel</span><span class="err"> </span><span class="o">&gt;</span><span class="err"> </span><span class="m">5</span><span class="p">.</span>
</code></pre>
</div>

<p>sí es correcta.</p>

<h1 id="tocAnchor-1-6">Findall</h1>

<p>Miremos esta definición de plantasDerivadasDe</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">plantasDerivadasDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">):-</span><span class="err"> </span>
<span class="err">    </span><span class="ss">findall</span><span class="p">(</span><span class="nv">P2</span><span class="p">,</span><span class="err"> </span><span class="ss">derivadaDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">P2</span><span class="p">),</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">).</span>
</code></pre>
</div>

<p>y supongamos esta consulta</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="o">?-</span><span class="err"> </span><span class="ss">plantasDerivadasDe</span><span class="p">(</span><span class="nv">Pl</span><span class="p">,</span><span class="err"> </span><span class="nv">Plantas</span><span class="p">).</span>
</code></pre>
</div>

<p>Miremos fijos el findall, recordando que unifica el 3er argumento con la lista de la parte indicada en el 1er argumento de todas las respuestas a la consulta del 2do argumento.
En este caso: va a ligar <code class="highlighter-rouge">ListaPlantasFamiliares</code> con la lista de los <code class="highlighter-rouge">P2</code> para cada respuesta a la consulta <code class="highlighter-rouge">derivaDe(Planta,P2)</code>.
Como en la consulta no se liga <code class="highlighter-rouge">Planta</code>, entonces las respuestas a <code class="highlighter-rouge">derivaDe(Planta,P2)</code> van a ser <strong>todos</strong> los pares de plantas (planta,derivada), y por lo tanto los <code class="highlighter-rouge">P2</code> van a ser <strong>todas</strong> las plantas derivadas de alguna planta.
P.ej. si tenemos</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">derivaDe</span><span class="p">(</span><span class="ss">p1</span><span class="p">,</span><span class="ss">p3</span><span class="p">).</span>
<span class="err"> </span><span class="ss">derivaDe</span><span class="p">(</span><span class="ss">p2</span><span class="p">,</span><span class="ss">p4</span><span class="p">).</span>
<span class="err"> </span><span class="ss">derivaDe</span><span class="p">(</span><span class="ss">p2</span><span class="p">,</span><span class="ss">p5</span><span class="p">).</span>
</code></pre>
</div>

<p><code class="highlighter-rouge">ListaPlantasFamiliares</code> va a ser <code class="highlighter-rouge">[p2,p4,p5]</code>. Esto nos muestra que con esta definición el predicado no es inversible para el primer argumento, porque las listas de “derivadas de la misma planta” son [p3] por un lado, y [p4,p5] por otro; [p2,p4,p5] no puede ser un 2do argumento correcto para este predicado.</p>

<p>Para que que el predicado sea totalmente inversible debemos asegurar que la variable <code class="highlighter-rouge">Planta</code> <em>entra ligada al findall</em>.</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">plantasDerivadasDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">):-</span><span class="err"> </span>
<span class="err">    </span><span class="ss">esPlanta</span><span class="p">(</span><span class="nv">Planta</span><span class="p">),</span><span class="err"> </span>
<span class="err">    </span><span class="ss">findall</span><span class="p">(</span><span class="nv">P2</span><span class="p">,</span><span class="err"> </span><span class="ss">derivaDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">P2</span><span class="p">),</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">).</span>
</code></pre>
</div>

<p>Miremos ahora qué pasa si definimos el predicado así</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">plantasDerivadasDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">):-</span><span class="err"> </span>
 <span class="err">   </span><span class="ss">esPlanta</span><span class="p">(</span><span class="nv">Planta</span><span class="p">),</span><span class="err"> </span><span class="ss">derivaDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">P2</span><span class="p">),</span><span class="err"> </span>
<span class="err">    </span><span class="ss">findall</span><span class="p">(</span><span class="nv">P2</span><span class="p">,</span><span class="err"> </span><span class="ss">derivaDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">P2</span><span class="p">),</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">).</span>
</code></pre>
</div>

<p>En este caso, al llegar al findall tanto Planta como P2 ya están ligadas, entonces la consulta <code class="highlighter-rouge">derivaDe(Planta,P2)</code> puede tener a lo sumo una respuesta (positiva, la respuesta “no” no se cuenta), entonces ListaPlantasFamiliares va a tener a lo sumo un elemento. Vamos a obtener respuestas incorrectas, p.ej.</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="o">?-</span><span class="err"> </span><span class="ss">plantasDerivadasDe</span><span class="p">(</span><span class="ss">p2</span><span class="p">,</span><span class="err"> </span><span class="nv">Lista</span><span class="p">).</span>
<span class="err"> </span><span class="nv">Lista</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="p">[</span><span class="ss">p4</span><span class="p">]</span>
</code></pre>
</div>

<p>porque la variable P2, que debe llegar sin ligar al findall, llega ligada.</p>

<h2 id="tocAnchor-1-6-1">Un ejemplo futbolero</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code>    <span class="ss">ganoContra</span><span class="p">(</span><span class="ss">argentina</span><span class="p">,</span> <span class="ss">suiza</span><span class="p">).</span>
    <span class="ss">ganoContra</span><span class="p">(</span><span class="ss">argentina</span><span class="p">,</span> <span class="ss">belgica</span><span class="p">).</span>
    <span class="ss">ganoContra</span><span class="p">(</span><span class="ss">argentina</span><span class="p">,</span> <span class="ss">holanda</span><span class="p">).</span>

    <span class="ss">ganoContra</span><span class="p">(</span><span class="ss">belgica</span><span class="p">,</span> <span class="ss">eeuu</span><span class="p">).</span>

    <span class="ss">ganoContra</span><span class="p">(</span><span class="ss">holanda</span><span class="p">,</span> <span class="ss">mexico</span><span class="p">).</span>

    <span class="ss">superEquipo</span><span class="p">(</span> <span class="nv">Equipo</span> <span class="p">)</span> <span class="p">:-</span> <span class="ss">findall</span><span class="p">(</span><span class="nv">P</span><span class="p">,</span> <span class="ss">ganoContra</span><span class="p">(</span><span class="nv">Equipo</span><span class="p">,</span> <span class="nv">P</span><span class="p">),</span> <span class="nv">Partidos</span><span class="p">),</span> <span class="ss">length</span><span class="p">(</span><span class="nv">Partidos</span><span class="p">,</span> <span class="nv">CantGanados</span><span class="p">),</span> <span class="nv">CantGanados</span> <span class="o">&gt;</span> <span class="m">2</span><span class="p">.</span>
</code></pre>
</div>

<p>Ahora fijate tirando en prolog la siguiente consulta:</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code>    <span class="ss">superEquipo</span><span class="p">(</span> <span class="nv">X</span> <span class="p">).</span>
</code></pre>
</div>

<h1 id="tocAnchor-1-8">Forall</h1>

<p>Esta definición del predicado esEspecieComestible</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">esEspecieComestible</span><span class="p">(</span><span class="nv">Especie</span><span class="p">):-</span><span class="err"> </span>
<span class="err">     </span><span class="ss">forall</span><span class="p">(</span><span class="ss">especieDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Especie</span><span class="p">),</span><span class="err"> </span><span class="ss">esPlantaComestible</span><span class="p">(</span><span class="nv">Planta</span><span class="p">)).</span>
</code></pre>
</div>

<p>no es inversible, porque Especie debe llegar ligado al forall. Si no llega ligada, para que el forall se verifique deben ser comestibles <strong>todas</strong> las plantas que sean de alguna especie. Esto está explicado en detalle en <a href="paradigma-logico---el-forall-forall-e-inversibilidad.html">el artículo sobre forall</a>.</p>

<p>Para que sea inversible debemos generar el dominio para la variable Especie</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">esEspecieComestible</span><span class="p">(</span><span class="nv">Especie</span><span class="p">):-</span><span class="err"> </span>
<span class="err">     </span><span class="ss">esEspecie</span><span class="p">(</span><span class="nv">Especie</span><span class="p">),</span>
<span class="err">     </span><span class="ss">forall</span><span class="p">(</span><span class="ss">especieDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Especie</span><span class="p">),</span><span class="err"> </span><span class="ss">esPlantaComestible</span><span class="p">(</span><span class="nv">Planta</span><span class="p">)).</span>
</code></pre>
</div>

<h1 id="tocAnchor-1-9">Functores y polimorfismo</h1>

<p>Como caso particular de los hechos con variables, algo muy común es tener definiciones como:</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="ss">marca</span><span class="p">(</span><span class="ss">arroz</span><span class="p">(</span><span class="nv">Marca</span><span class="p">),</span><span class="nv">Marca</span><span class="p">).</span>
<span class="ss">marca</span><span class="p">(</span><span class="ss">lacteo</span><span class="p">(</span><span class="nv">Marca</span><span class="p">,</span><span class="nv">_</span><span class="p">),</span><span class="nv">Marca</span><span class="p">).</span>
</code></pre>
</div>

<p>El predicado marca/2 nos va a resultar muy útil para cuando no nos interese qué tipo concreto de producto se está usando, sólo que tenga una marca y nos la sepa decir. Lo importante es ser conscientes de que este predicado no es inversible, con lo cual sería incorrecto tratar de usarlo como generador de marcas por ejemplo. Si nos interesa que sea inversible tenemos que usar otro predicado que nos genere los productos, por ejemplo:</p>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="ss">marca</span><span class="p">(</span><span class="ss">arroz</span><span class="p">(</span><span class="nv">Marca</span><span class="p">),</span><span class="nv">Marca</span><span class="p">):-</span><span class="err"> </span><span class="ss">precioUnitario</span><span class="p">(</span><span class="ss">arroz</span><span class="p">(</span><span class="nv">Marca</span><span class="p">),</span><span class="nv">_</span><span class="p">).</span>
<span class="ss">marca</span><span class="p">(</span><span class="ss">lacteo</span><span class="p">(</span><span class="nv">Marca</span><span class="p">,</span><span class="nv">TipoLacteo</span><span class="p">),</span><span class="nv">Marca</span><span class="p">):-</span><span class="err"> </span><span class="ss">precioUnitario</span><span class="p">(</span><span class="ss">lacteo</span><span class="p">(</span><span class="nv">Marca</span><span class="p">,</span><span class="nv">TipoLacteo</span><span class="p">),</span><span class="nv">_</span><span class="p">).</span>
</code></pre>
</div>

<h1 id="tocAnchor-1-10">En resumen</h1>

<p>Resumimos los casos de inversibilidad con un ejemplo de cada uno</p>

<h2 id="tocAnchor-1-10-1">Hechos con variables</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">leGusta</span><span class="p">(</span><span class="ss">pepe</span><span class="p">,</span><span class="err"> </span><span class="nv">_</span><span class="p">).</span>
<span class="err"> % </span><span class="nv">Lo</span><span class="err"> </span><span class="ss">que</span><span class="err"> </span><span class="ss">le</span><span class="err"> </span><span class="ss">gusta</span><span class="err"> </span><span class="ss">debería</span><span class="err"> </span><span class="ss">acotarse</span><span class="err"> </span><span class="ss">de</span><span class="err"> </span><span class="ss">alguna</span><span class="err"> </span><span class="ss">forma</span><span class="err"> </span><span class="ss">si</span><span class="err"> </span><span class="ss">se</span><span class="err"> </span><span class="ss">pretenden</span><span class="err"> </span><span class="ss">hacer</span><span class="err"> </span><span class="ss">consultas</span><span class="err"> </span><span class="ss">existenciales</span><span class="err"> </span><span class="ss">sobre</span><span class="err"> </span><span class="ss">la</span><span class="err"> </span><span class="ss">segunda</span><span class="err"> </span><span class="ss">aridad</span>
</code></pre>
</div>

<h2 id="tocAnchor-1-10-2">Negación</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">esPlantaComestible</span><span class="p">(</span><span class="nv">Planta</span><span class="p">):-</span><span class="err"> </span><span class="ss">not</span><span class="p">(</span><span class="ss">esVenenosa</span><span class="p">(</span><span class="nv">Planta</span><span class="p">)).</span>
<span class="err"> % </span><span class="nv">Planta</span><span class="err"> </span><span class="ss">debe</span><span class="err"> </span><span class="ss">llegar</span><span class="err"> </span><span class="ss">ligada</span><span class="err"> </span><span class="ss">al</span><span class="err"> </span><span class="ss">not</span>
</code></pre>
</div>
<h2 id="tocAnchor-1-10-3">Aritmética</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">precioPorCantidad</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Cantidad</span><span class="p">,</span><span class="nv">PrecioTotal</span><span class="p">):-</span><span class="err"> </span>
<span class="err">     </span><span class="ss">precioPlanta</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Precio</span><span class="p">),</span><span class="err"> </span><span class="nv">PrecioTotal</span><span class="err"> </span><span class="ss">is</span><span class="err"> </span><span class="nv">Cantidad</span><span class="err"> </span><span class="o">*</span><span class="err"> </span><span class="nv">Precio</span><span class="p">.</span>
<span class="err"> % </span><span class="nv">Cantidad</span><span class="err"> </span><span class="ss">debe</span><span class="err"> </span><span class="ss">llegar</span><span class="err"> </span><span class="ss">ligada</span><span class="err"> </span><span class="ss">al</span><span class="err"> </span><span class="ss">is</span>
</code></pre>
</div>

<h2 id="tocAnchor-1-10-4">Comparación</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">plantaHeavy</span><span class="p">(</span><span class="nv">Planta</span><span class="p">):-</span><span class="err"> </span><span class="nv">Nivel</span><span class="err"> </span><span class="o">&gt;</span><span class="err"> </span><span class="m">5</span><span class="p">,</span><span class="err"> </span><span class="ss">nivelVeneno</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Nivel</span><span class="p">).</span>
<span class="err"> % </span><span class="nv">Nivel</span><span class="err"> </span><span class="ss">debe</span><span class="err"> </span><span class="ss">llegar</span><span class="err"> </span><span class="ss">ligada</span><span class="err"> </span><span class="ss">a</span><span class="err"> </span><span class="ss">la</span><span class="err"> </span><span class="ss">comparación</span>
</code></pre>
</div>

<h2 id="tocAnchor-1-10-5">findall</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">plantasDerivadasDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">):-</span><span class="err"> </span>
<span class="err">     </span><span class="ss">findall</span><span class="p">(</span><span class="nv">P2</span><span class="p">,</span><span class="err"> </span><span class="ss">derivadaDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">P2</span><span class="p">),</span><span class="err"> </span><span class="nv">ListaPlantasFamiliares</span><span class="p">).</span><span class="err">`` % </span><span class="nv">Planta</span><span class="err"> </span><span class="ss">debe</span><span class="err"> </span><span class="ss">llegar</span><span class="err"> </span><span class="ss">ligada</span><span class="err"> </span><span class="ss">al</span><span class="err"> </span><span class="ss">findall</span><span class="err">`</span>
</code></pre>
</div>

<h2 id="tocAnchor-1-10-6">forall</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">esEspecieComestible</span><span class="p">(</span><span class="nv">Especie</span><span class="p">):-</span><span class="err"> </span>
<span class="err">     </span><span class="ss">forall</span><span class="p">(</span><span class="ss">especieDe</span><span class="p">(</span><span class="nv">Planta</span><span class="p">,</span><span class="nv">Especie</span><span class="p">),</span><span class="err"> </span><span class="ss">esPlantaComestible</span><span class="p">(</span><span class="nv">Planta</span><span class="p">)).</span><span class="err">` % </span><span class="nv">Especie</span><span class="err"> </span><span class="ss">debe</span><span class="err"> </span><span class="ss">llegar</span><span class="err"> </span><span class="ss">ligada</span><span class="err"> </span><span class="ss">al</span><span class="err"> </span><span class="ss">forall</span><span class="err">`</span>
</code></pre>
</div>

<h2 id="tocAnchor-1-10-7">Functores y Polimorfismo</h2>

<div class="language-prolog highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">marca</span><span class="p">(</span><span class="ss">arroz</span><span class="p">(</span><span class="nv">Marca</span><span class="p">),</span><span class="nv">Marca</span><span class="p">).</span>
<span class="err"> </span><span class="ss">marca</span><span class="p">(</span><span class="ss">lacteo</span><span class="p">(</span><span class="nv">Marca</span><span class="p">,</span><span class="nv">_</span><span class="p">),</span><span class="nv">Marca</span><span class="p">).</span>
<span class="err"> % </span><span class="nv">Si</span> <span class="ss">pretendemos</span> <span class="ss">usar</span> <span class="ss">marca</span><span class="o">/</span><span class="m">2</span> <span class="ss">para</span> <span class="ss">hacer</span> <span class="ss">consultas</span> <span class="ss">existenciales</span><span class="p">,</span><span class="err"> </span><span class="ss">no</span><span class="err"> </span><span class="ss">puede</span><span class="err"> </span><span class="ss">tener</span><span class="err"> </span><span class="nv">_</span><span class="err"> </span><span class="ss">ni</span><span class="err"> </span><span class="ss">variables</span><span class="err"> </span><span class="ss">que</span><span class="err"> </span><span class="ss">no</span><span class="err"> </span><span class="ss">se</span><span class="err"> </span><span class="ss">generen</span><span class="err"> </span><span class="ss">internamente</span><span class="err"> </span><span class="ss">en</span><span class="err"> </span><span class="ss">el</span><span class="err"> </span><span class="ss">encabezado</span><span class="p">.</span>
</code></pre>
</div>

</div>



<div id="article_metadata">
    <p><i>Latest update on July 17, 2017 by
        GitHub</i></p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>246</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Fernando Dodino</td>
                                <td>fernand...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>917a5fe</td>
                        <td>Mon Jul 17 23:16:02 2017 -0300</td>
                        <td>GitHub</td>
                        <td>noreply...</td>
                        <td>Update deploy-en-maven-central.md</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer - Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
