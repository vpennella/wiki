<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Variables y metodos de clase</title>
  <meta property="og:title" content="Variables y metodos de clase" />






<link rel="canonical" href="wiki.uqbar.org/wiki/articles/variables-y-metodos-de-clase.html" />
<meta property="og:url" content="wiki.uqbar.org/wiki/articles/variables-y-metodos-de-clase.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-09-08T12:53:01-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" >
    <link type="text/plain" rel="author" href="/humans.txt"/>
    <link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">

    <link rel="stylesheet" href="/assets/app-03d85529abca8a6b9780ed56673aae09.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a id="pagetitle" href="/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Ayuda</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/wiki/articles/FAQ.html">FAQ</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/como-empezar.html">Cómo colaborar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navegación</a>
                <ul class="dropdown">
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows" align="center">
        <img src="/img/logoUqbar.jpg" height="70%" width="70%">
    </div>
    <div align="center">
    	<p>
    		<a href="http://www.uqbar-project.org/">Conocenos</a> 
    	</p>
    </div>

    <hr>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Links" role="menu">
        <li class="button" role="menuitem"><a href="/">Home</a></li>
        <li class="button" role="menuitem"><a href="/articles">Lista de articulos</a></li>
    </ul>

    <hr>

	<ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Materias" role="menu">
            <li class="button" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        <i>Variables y metodos de clase</i>
    </h1>

    <div id="siteSub">De Uqbar wiki</div>
</div>



<div id="article_content">
    <div id="toc-container">
  <table class="toc" id="toc">
    <tbody>
      <tr>
        <td>
          <div id="toctitle">
            <h2>Contents</h2>
          </div>
          <ul>
            <li class="toc_level-1 toc_section-1">
              <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">Mensajes y Métodos de clase</span></a>
              <ul>
                <li class="toc_level-2 toc_section-2">
                  <a href="#tocAnchor-1-1-1"><span class="tocnumber">1.1</span> <span class="toctext">¿Cómo escribo métodos de clase?</span></a>
                </li>
              </ul>
            </li>
            <li class="toc_level-1 toc_section-3">
              <a href="#tocAnchor-1-3"><span class="tocnumber">2</span> <span class="toctext">¿Que son las variables de clase? ¿Para que sirven?</span></a>
            </li>
            <li class="toc_level-1 toc_section-4">
              <a href="#tocAnchor-1-4"><span class="tocnumber">3</span> <span class="toctext">Diferencia con las variables de instancia</span></a>
            </li>
            <li class="toc_level-1 toc_section-5">
              <a href="#tocAnchor-1-5"><span class="tocnumber">4</span> <span class="toctext">¿Como las usamos?</span></a>
            </li>
          </ul>
        </td>
      </tr>
    </tbody>
  </table>
</div><h1 id="tocAnchor-1-1">Mensajes y Métodos de clase</h1>

<p>Las clases son objetos, y como todos los objetos pueden tener atributos y ademas les podemos mandar mensajes. Pero las clases son objetos con responsabilidades especiales, la más común es la de crear nuevos objetos. Cada vez que a le mando el mensaje <strong>new</strong> a una clase obtengo una nueva instancia de esa clase. Podemos crear nuevas instancias en cualquier momento de nuestro programa (en el workspace, dentro de un método, etc).</p>

<p>Entonces, los mensajes de clase son mensajes que entienden las clases, no las instancias de las mismas. El nombre (selector) de un mensaje de clase se escribe igual que siempre (empieza con minúscula).</p>

<p>Algunos ejemplos:</p>

<p>Workspace:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="err">  pepita</span><span class="o">:=</span><span class="err"> </span><span class="nc">Golondrina</span><span class="err"> </span><span class="nv">new</span><span class="p">.</span>
</code></pre>
</div>

<p>new es uno de los primeros mensajes de clase que aprendemos: nos devuelve una nueva instancia de la clase que recibe el mensaje. En este caso, devuelve una golondrina.</p>

<p>Workspace:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="err">  </span><span class="nv">hoy</span><span class="err"> </span><span class="o">:=</span><span class="err"> </span><span class="nc">Date</span><span class="err"> </span><span class="nv">today</span><span class="p">.</span>
</code></pre>
</div>

<p>today es un mensaje de clase que le mando a la clase Date y me devuelve un objeto que representa la fecha de hoy.</p>

<p>Workspace:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="err">  items</span><span class="o">:=</span><span class="err"> </span><span class="nc">Bag</span><span class="err"> with: </span><span class="s">'brujula'</span><span class="err"> with: </span><span class="s">'botellaDeGrogXD'</span><span class="err"> with: </span><span class="s">'catalejo'</span><span class="p">.</span>
</code></pre>
</div>

<p>with:with:with: es un mensaje que entienden las clases de colecciones (en este caso Bag es la clase que recibe el mensaje). with:with:with: devuelve una nueva colección, que tiene los tres elementos adentro. En éste caso, devuelve un bag con la brújula, la botella y el catalejo.</p>

<p>En general es deseable tener una forma de crear objetos que ya estén inicializados adecuadamente para poder usarlos inmediatamente, y no que arranquen en un estado inválido y requieran ser configurados a posteriori.</p>

<h2 id="tocAnchor-1-1-1">¿Cómo escribo métodos de clase?</h2>

<p>Cada mensaje de clase debe tener asociado un método de clase (su codificación).</p>

<ul>
  <li>En Pharo: En el segundo panel del System Browser, apretando el boton <strong>class</strong>, escriben el método como hasta ahora. (No se olviden de volver a apretar <strong>instance</strong> para escribir metodos de instancia)</li>
  <li>En el parcial: simplemente pongan <strong>(MC)</strong> al lado del método, para diferenciarlo de los métodos de instancia.</li>
</ul>

<p>Workspace:</p>

<p>  barbanegra := Pirata nuevoConItems: items ebriedad: 100 monedas: 1500.</p>

<p>El mensaje nuevoConItems:ebriedad:monedas: se lo mando a la clase Pirata y me devuelve un nuevo pirata ya inicializado con los items, la ebriedad y las monedas que le indiquemos.</p>

<p>Codificación:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">#Pirata</span>
<span class="err"> </span><span class="p">(</span><span class="nc">MC</span><span class="p">)</span><span class="err">  &gt;&gt; nuevoConItems: </span><span class="nv">losItems</span><span class="err"> ebriedad: </span><span class="nv">nivelEbriedad</span><span class="err"> monedas: </span><span class="nv">unasMonedas</span>
<span class="err">    </span><span class="p">|</span><span class="nv">unPirata</span><span class="p">|</span>
<span class="err">  unPirata</span><span class="o">:=</span><span class="err"> </span><span class="bp">self</span><span class="err"> </span><span class="nv">new</span><span class="p">.</span>
<span class="err">  </span><span class="nv">unPirata</span><span class="err"> items: </span><span class="nv">losItems</span><span class="p">.</span>
<span class="err">  </span><span class="nv">unPirata</span><span class="err"> ebriedad: </span><span class="nv">nivelEbriedad</span><span class="p">.</span>
<span class="err">  </span><span class="nv">unPirata</span><span class="err"> monedas: </span><span class="nv">unasMonedas</span><span class="p">.</span>
<span class="err">  </span><span class="o">^</span><span class="nv">unPirata</span><span class="p">.</span>
</code></pre>
</div>

<p>Recordemos que, como el que recibe este mensaje es una clase, acá <strong>self es la clase</strong>, no una instancia. El motivo por el cual es importante usar self en vez de escribir el nombre de la clase (en este caso Pirata) es porque estos métodos también se heredan, y si subclaseamos Pirata no se va a comportar como queremos cuando le mandemos nuevoConItems:ebriedad:monedas: a la subclase. Al usar self indicamos que el mensaje debe enviarse al objeto que recibió nuevoConItems:ebriedad:monedas:, o sea que si se lo mandamos a una subclase de Pirata, la instancia creada será de dicha clase.</p>

<h1 id="tocAnchor-1-3">¿Que son las variables de clase? ¿Para que sirven?</h1>

<p>Las variables de clase nos sirven cuando queremos que nuestros objetos tengan alguna referencia a algún valor, que sea el mismo para todas las instancias de esa clase, y que ademas pueda cambiar (por eso usamos una variable y no hardcodeamos ese valor en el código del programa, asumiendo que es posible).</p>

<p>Si usáramos una variable de instancia con la intención de settear el mismo valor a todas las instancias de esa clase, y luego queremos cambiar el valor de modo de afectar a todas las instancias, tengo que poder encontrar todas las instancias ya existentes para poder mandarles el mensaje para que actualicen su referencia… Y si tengo muchos muchos objetos eso no esta bueno, no sólo por la complejidad innecesaria del problema, sino también porque la performance puede verse afectada. Este problema desaparece si tengo un único objeto que conozca este valor que quiero que varios objetos conozcan, y como todo objeto conoce la clase a la que pertenece, podemos dejar que sea responsabilidad de la clase recordar y manipular este estado, y que sus instancias usen ese valor cuando lo necesiten.</p>

<p>Si tengo una variable de clase y cambio el valor al que referencia, automáticamente todas las instancias que yo cree a partir de esa clase en la vida van a conocer ese nuevo valor, porque lo conoce su clase y ellas conocen a su clase :)</p>

<h1 id="tocAnchor-1-4">Diferencia con las variables de instancia</h1>

<p>Las variables de instancia son propias de cada objeto, si cambio una referencia en un objeto la referencia de otro de la misma clase no cambia (aunque las variables se llamen igual). Si cambio la referencia de una variable de clase, todas las instancias van a verse afectadas, ya que no es una referencia propia.</p>

<p>En Smalltalk, para declarar una variable de instancia (por ejemplo, dada una clase Pirata, para decir que cada pirata conoce cuántas monedas tiene) debíamos indicarlo de esta forma:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="nc">Object</span><span class="err"> subclass: </span><span class="ss">#Pirata</span>
<span class="err">   instanceVariableNames: </span><span class="s">'monedas'</span>
<span class="err">   classVariableNames: </span><span class="s">''</span>
<span class="err">   category: </span><span class="s">'Yaaaar'</span>
</code></pre>
</div>

<p>Para declarar una variable de clase en cambio, el nombre de la variable debe ir entre las comillas que siguen a classVariableNames:, por convención inician con mayúscula. Suponiendo que el dinero máximo que tiene que tener un pirata para poder saquear un objetivo es igual para todas las misiones de saqueo es el mismo, podemos ponerlo en una variable de clase</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="nc">Object</span><span class="err"> subclass: </span><span class="ss">#Saqueo</span>
<span class="err">   instanceVariableNames: </span><span class="s">''</span>
<span class="err">   classVariableNames: </span><span class="s">'DineroMaximo'</span>
<span class="err">   category: </span><span class="s">'Yaaaar'</span>
</code></pre>
</div>

<h1 id="tocAnchor-1-5">¿Como las usamos?</h1>

<p>Dentro de un método de instancia de Saqueo podemos directamente usar una variable de clase definida para la clase Saqueo, por ejemplo:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">#Saqueo</span>
<span class="err">   &gt;&gt;esUtil: </span><span class="nv">unPirata</span>
<span class="err">     </span><span class="o">^</span><span class="p">(</span><span class="nv">unPirata</span><span class="err"> </span><span class="nv">dineroDisponible</span><span class="err"> &lt; **</span><span class="nc">DineroMaximo</span><span class="nf">**</span><span class="p">)</span><span class="err"> and: </span><span class="p">[</span><span class="err"> </span><span class="nv">unPirata</span><span class="err"> teAnimasASaquear: </span><span class="nv">objetivo</span><span class="p">].</span>
</code></pre>
</div>

<p>Pero, como el DineroMaximo es algo que en realidad “está guardado” en la clase, (y por lo tanto es responsabilidad de la clase conocerlo), otra alternativa es mandarle un mensaje a la clase:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">#Saqueo</span>
<span class="err">   &gt;&gt;esUtil: </span><span class="nv">unPirata</span>
<span class="err">     </span><span class="o">^</span><span class="p">(</span><span class="nv">unPirata</span><span class="err"> </span><span class="nv">dineroDisponible</span><span class="err"> &lt; **</span><span class="nc">Saqueo</span><span class="nf">**</span><span class="err"> </span><span class="nv">dineroMaximo</span><span class="p">)</span><span class="err"> and: </span><span class="p">[</span><span class="err"> </span><span class="nv">unPirata</span><span class="err"> teAnimasASaquear: </span><span class="nv">objetivo</span><span class="p">].</span>
<span class="err"> **</span><span class="p">(</span><span class="nc">MC</span><span class="p">)</span><span class="nf">&gt;&gt;</span> <span class="nv">dineroMaximo</span><span class="nf">**</span>
<span class="err">      **</span><span class="o">^</span><span class="nc">DineroMaximo</span><span class="nf">**</span>
</code></pre>
</div>

<p>Por último, una forma más correcta sería poniendo <strong>self class</strong>, de esta manera:</p>

<div class="language-smalltalk highlighter-rouge"><pre class="highlight"><code><span class="err"> </span><span class="ss">#Saqueo</span>
<span class="err">   &gt;&gt;esUtil: </span><span class="nv">unPirata</span>
<span class="err">     </span><span class="o">^</span><span class="p">(</span><span class="nv">unPirata</span><span class="err"> </span><span class="nv">dineroDisponible</span><span class="err"> &lt; **</span><span class="bp">self</span> <span class="nf">class**</span><span class="err"> </span><span class="nv">dineroMaximo</span><span class="p">)</span><span class="err"> and: </span><span class="p">[</span><span class="err"> </span><span class="nv">unPirata</span><span class="err"> teAnimasASaquear: </span><span class="nv">objetivo</span><span class="p">].</span>
<span class="err"> </span><span class="p">(</span><span class="nc">MC</span><span class="p">)</span><span class="nf">&gt;&gt;</span><span class="err"> </span><span class="nv">dineroMaximo</span>
<span class="err">      </span><span class="o">^</span><span class="nc">DineroMaximo</span>
</code></pre>
</div>

<p>La razón por la que es más correcta, tiene que ver con la existencia de <a href="herencia.html">Herencia</a> como se mencionó anteriormente. Así damos la posibilidad a una subclase a redefinir dineroMaximo.</p>

</div>



<div id="article_metadata">
    <p><i>Latest update on July 17, 2017 by
        GitHub</i></p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>128</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Fernando Dodino</td>
                                <td>fernand...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>917a5fe</td>
                        <td>Mon Jul 17 23:16:02 2017 -0300</td>
                        <td>GitHub</td>
                        <td>noreply...</td>
                        <td>Update deploy-en-maven-central.md</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer - Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
