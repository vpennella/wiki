<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Sabores de colecciones</title>
  <meta property="og:title" content="Sabores de colecciones" />






<link rel="canonical" href="wiki.uqbar.org/wiki/articles/sabores-de-colecciones.html" />
<meta property="og:url" content="wiki.uqbar.org/wiki/articles/sabores-de-colecciones.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-09-08T12:53:01-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" >
    <link type="text/plain" rel="author" href="/humans.txt"/>
    <link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">

    <link rel="stylesheet" href="/assets/app-03d85529abca8a6b9780ed56673aae09.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a id="pagetitle" href="/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Ayuda</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/wiki/articles/FAQ.html">FAQ</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/como-empezar.html">Cómo colaborar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navegación</a>
                <ul class="dropdown">
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows" align="center">
        <img src="/img/logoUqbar.jpg" height="70%" width="70%">
    </div>
    <div align="center">
    	<p>
    		<a href="http://www.uqbar-project.org/">Conocenos</a> 
    	</p>
    </div>

    <hr>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Links" role="menu">
        <li class="button" role="menuitem"><a href="/">Home</a></li>
        <li class="button" role="menuitem"><a href="/articles">Lista de articulos</a></li>
    </ul>

    <hr>

	<ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Materias" role="menu">
            <li class="button" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        <i>Sabores de colecciones</i>
    </h1>

    <div id="siteSub">De Uqbar wiki</div>
</div>



<div id="article_content">
    <h2 id="sabores-de-colecciones-en-wollok">Sabores de colecciones en Wollok</h2>

<p>En Wollok disponemos de dos sabores básicos de colecciones: las listas y los sets (conjunto matemático). Se diferencian principalmente por las siguientes características:</p>

<ul>
  <li>Las listas tienen orden, los sets no, por eso sólo es posible obtener un determinado elemento en base a su pocisión sólo si es una lista con el mensaje get(posicionBaseCero)</li>
  <li>Los sets no admiten repetidos, las listas sí, por eso si se agrega un elemento repetido a un set no se agregará una nueva referencia al mismo, mientras que en las listas se incluirá una nueva referencia (en otra posición) al mismo objeto.</li>
</ul>

<p>Literal de listas: [1,2,3] Literal de sets: #{1,2,3}</p>

<p>Para ejemplos de uso ver <a href="intro-a-colecciones.html">Intro a colecciones</a></p>

<h2 id="sabores-de-colecciones-en-smalltalk">Sabores de colecciones en Smalltalk</h2>

<p>Smalltalk tiene una clase llamada <strong>Collection</strong> que me permite representar colecciones, pero Collection es la abstracción superior de la jerarquía de colecciones. Al momento de instanciar una colección, tengo que decidirme por un sabor. A continuación intentaremos mostrar los sabores de colecciones, tratando de ordenarlos en base a sus respectivos grados de especialización.</p>

<h3 id="set-y-bag">Set y Bag</h3>

<p>El primer sabor que visitaremos es el <strong>Bag</strong>. Esta colección es de las denominadas <strong>sin orden</strong> y como su nombre lo indica, es la representación de una bolsa. Una bolsa de objetos. Por ejemplo, al principio, hablamos de un carrito de compras. El Bag la colección más adecuada para esta representación. Imagínense que puedo poner tres latas de tomates, dos botellas de agua y siete peras.</p>

<p>El segundo sabor que veremos es el <strong>Set</strong>. El Set, como su nombre lo indica, está concebido para la representación de conjuntos.</p>

<p>Una propiedad, fundamental diría, sobre conjuntos es que los elementos que pertenecen al conjunto son únicos en él. En resumidas palabras, en los conjuntos (Sets) no voy a tener dos veces el mismo elemento. O sea el Set no admite repetidos. Salvo por esta propiedad, el comportamiento es el mismo que el del Bag.</p>

<p>Imagínense que tengo una lata de tomates y miCarrito es una colección. Lo voy a representar así:</p>

<p><code class="highlighter-rouge">unaLata := LataDeTomates new. </code>
<code class="highlighter-rouge">unaLata conTomates: ‘perita’. </code>
<code class="highlighter-rouge">unaLata deLaMarca: ‘La Marca que a uds les guste’ </code>
<code class="highlighter-rouge">unaLata conPrecio: 1.00 </code></p>

<p>Bien, tengo mi objeto unaLata y quiero agregar a mi carrito de compras 3 latas de tomates. Entonces hago:</p>

<p><code class="highlighter-rouge">miCarrito add: unaLata. </code>
<code class="highlighter-rouge">miCarrito add: unaLata. </code>
<code class="highlighter-rouge">miCarrito add: unaLata. </code></p>

<p>¿Qué pasará cuando evalúe la siguiente línea?</p>

<p><code class="highlighter-rouge">miCarrito size.</code></p>

<p>Yo agregué 3 veces al carrito una lata de tomates, con lo cual podría esperar que me responda 3. Pero, como vimos, si represento a mi carrito de compras con un Bag, (o sea que hice miCarrito:= Bag new.) entonces sí voy a tener 3 referencias a unaLata en miCarrito.</p>

<p>Si representara mi carrito de compras con un Set (o sea que hice miCarrito:=Set new.) entonces hubiese tenido un solo objeto dentro de mi colección. Simplemente, cuando hago el segundo miCarrito add: unaLata el Set identifica que ya tiene ese objeto en la colección y no lo vuelve a agregar.</p>

<h3 id="colecciones-ordenadas">Colecciones ordenadas</h3>

<p>Entonces ya vimos el Set y Bag, que son colecciones sin orden. Ahora introduciremos algunas colecciones con orden.</p>

<p>¿Qué quiere decir <strong>ordenadas</strong>? Que hay un elemento 1, un elemento 2, etc., al contrario de un Set o un Bag, en donde los elementos están “todos tirados”. O sea, puedo acceder a los elementos de cualquier colección ordenada (veremos que hay varias variantes) parecido a como se accede a un Array en C o Pascal. Para eso le envío a la colección el mensaje <strong>at:</strong> , si quiero el cuarto elemento de miCol que es una colección ordenada, lo puedo pedir así:</p>

<p><code class="highlighter-rouge">miCol at: 4 </code></p>

<p>y tengo los mensajes first y last que devuelven el primero y el último.</p>

<p>Eeeehhh pero … si tengo un Set o un Bag, ¿ cómo accedo a los elementos de un Bag o un Set? Eso … viene más adelante. Veamos ahora las variantes de colecciones ordenadas.</p>

<p>La primera que les presentaremos es la <strong>OrderedCollection</strong>. Esta colección ordena sus elementos, y el criterio es el orden en cual fueron agregados a la colección. Entonces si creo mi colección así</p>

<p><code class="highlighter-rouge">miCol := OrderedCollection new. </code>
<code class="highlighter-rouge">miCol add: 'hola'. </code>
<code class="highlighter-rouge">miCol add: 'queridos'. </code>
<code class="highlighter-rouge">miCol add: 'amigos'. </code>
<code class="highlighter-rouge">miCol add: 'escandinavos'. </code></p>

<p>después puedo pedirle varias cosas</p>

<p><code class="highlighter-rouge">miCol first &lt;- el primero - 'hola'</code>
<code class="highlighter-rouge">miCol last &lt;- el último - 'escandinavos'</code>
<code class="highlighter-rouge">miCol at: 3 &lt;- el tercero - 'amigos'</code>
<code class="highlighter-rouge">miCol at: 4 &lt;- el cuarto - 'escandinavos'</code>
<code class="highlighter-rouge">miCol size &lt;- cantidad de elementos - 4</code></p>

<p>y después puedo seguir agregándole elementos, ante lo cual la colección “se estira”</p>

<p><code class="highlighter-rouge">miCol add: 'agrego'. </code>
<code class="highlighter-rouge">miCol add: 'cosas'. </code>
<code class="highlighter-rouge">miCol size &lt;- cantidad de elementos ahora - 6</code>
<code class="highlighter-rouge">miCol last &lt;- el último ahora - 'cosas'</code></p>

<p>Luego, así como la OrderedCollection, también tenemos la llamada <strong>SortedCollection</strong>, que la diferencia con la primera radica en que el criterio de ordenamiento puede ser definido. Si no definimos el criterio, SortedCollection ordena los elementos por su “orden natural” (significa que los ordenará de menor a mayor). Dicho de otra forma, no ordena por orden de llegada, sino por comparación entre los elementos.</p>

<p>Si queremos ordenar los elementos de la colección con un criterio en particular, necesitamos pasárselo a la colección. La forma de hacerlo, es pasarle lo que denominamos <strong>sortBlock</strong>, que es un objeto <a href="bloques.html">Block</a> (bloque).</p>

<p>Con respecto a las colecciones que tienen orden, por último veremos al viejo amigo <strong>Array</strong>. Aquí en Smalltalk también existe, y una de sus características es que es de tamaño fijo. Para instanciar un Array, hago Array new: 6, donde 6 es la cantidad de elementos que contendrá, alternativamete si conocemos los elementos de antemano pueden crearse de <a href="arrays-literales-en-smalltalk.html"> forma literal</a> (que es uno de los pocos motivo razonable para querer usar un Array en vez de otro tipo de colección como OrderedCollection).</p>

<p>Los Arrays no implementan el mensaje add:, justamente porque no puedo modificar su tamaño. La forma de agregarles elementos es a través del mensaje <strong>at:put:</strong>, como por ejemplo:</p>

<p><code class="highlighter-rouge">miVector := Array new: 2. </code>
<code class="highlighter-rouge">miVector at: 1 put: unaLata. </code></p>

<p>Todas las colecciones entienden una serie de mensajes que permiten obtener distintos sabores de colecciones con los mismos elementos. Estos mensajes son de la forma “as{ColeccionQueQuiero}”. Vamos a un par de ejemplos para ver cómo funciona.</p>

<p>Si tuviese una colección de la clase Bag, y quiero sacarle los repetidos, sé que el Set no tiene repetidos, entonces tomo mi colección como un Set. Entonces:</p>

<p><code class="highlighter-rouge">sinRepetidos := miCarrito asSet. </code></p>

<p>Si tuviese un array, y lo quiero convertir en una colección de tamaño variable, podría hacer:</p>

<p><code class="highlighter-rouge">coleccionVariable := miVector asOrderedCollection. </code></p>

<p>Si quisiera ordenar mi carrito de compras del producto más caro al más barato, haría algo como:</p>

<p><code class="highlighter-rouge">ordenadosPorPrecio := miCarrito asSortedCollection: [:unProd :otroProd | unProd precio &gt; otroProd precio]. </code></p>

<p>El mensaje <strong>asSortedCollection:</strong> recibe un parámetro que, obviamente, es un sortBlock. El sortBlock es un bloque que necesita 2 parámetros. El código del bloque es un código que debe devolver true o false. Para ordenar los objetos dentro de la colección, se evalúa el código y si el objeto retornado es true, el primer parámetro va antes que el segundo. Si retorna false, el segundo parámetro se ubica antes que el primero.</p>

<p>También está el mensaje <strong>asSortedCollection</strong> (o sea sin el dos-puntos, o sea que no requiere parámetro) que, como dijimos antes, ordenará los elementos por el “orden natural”.</p>

<p>¿Cuál es el “orden natural”? Dijimos que si a una SortedCollection no le decimos cómo queremos que ordene los elementos, los ordena por el “orden natural”. Pero … ¿qué puede ser este “orden natural”?</p>

<p>Si estoy en el paradigma de objetos … seguro va a tener que ver con objetos y mensajes. El “orden natural” es el que dicta el mensaje &lt;, que es binario. O sea, en una SortedCollection con “orden natural” el criterio es poner a elem1 antes que elem2 si el resultado de evaluar <strong>elem1 &lt; elem2</strong> es true.</p>

<p>Claro, eso quiere decir que solamente voy a poder tener, en una SortedCollection con “orden natural”, objetos que entiendan el mensaje &lt;. Los números, los String, las fechas, todos esos entienden &lt;. Pero p.ej. si quiero poner latas en una SortedCollection, no puede ser por “orden natural”, tengo que especificar el orden con el bloque con dos parámetros como vimos hace un ratito.</p>

<h3 id="jerarquía-de-colecciones-en-pharo">Jerarquía de Colecciones (En Pharo)</h3>

<p>Aquí se provee una imagen con una jerarquía simplificada de las colecciones existentes en Pharo. Presten especial atención a las clases explicadas en este artículo, las demás se proveen por motivos de completitud.</p>

<p><img src="CollectionHierarchy.png" title="Jerarquía de colecciones en Pharo Smalltalk" alt="Jerarquía de colecciones en Pharo Smalltalk" width="600" /></p>

<h2 id="diccionarios">Diccionarios</h2>

<p>Por último, queremos mostrarles un sabor de colección que es especial. Se llama Dictionary y, como su nombre lo indica, intenta representar un diccionario. Este tipo de representación implica tener una asociación entre una clave y un valor.</p>

<p>Poniendo como ejemplo, el propio diccionario. El diccionario es una asociación entre una clave, que son cada letra del abecedario y un apartado de páginas que tienen palabras. El diccionario lleva todo una explicación aparte, pueden profundizar más al respecto leyendo sobre <a href="diccionarios.html">Diccionarios</a>.</p>

</div>



<div id="article_metadata">
    <p><i>Latest update on July 17, 2017 by
        GitHub</i></p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>133</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Fernando Dodino</td>
                                <td>fernand...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>917a5fe</td>
                        <td>Mon Jul 17 23:16:02 2017 -0300</td>
                        <td>GitHub</td>
                        <td>noreply...</td>
                        <td>Update deploy-en-maven-central.md</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer - Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
