<!DOCTYPE html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<html class="no-js" lang="en" prefix="og: http://ogp.me/ns#">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    


  <title>Composicion</title>
  <meta property="og:title" content="Composicion" />






<link rel="canonical" href="wiki.uqbar.org/wiki/articles/composicion.html" />
<meta property="og:url" content="wiki.uqbar.org/wiki/articles/composicion.html" />
<meta property="og:site_name" content="uqbar-wiki" />
<meta name="application-name" content="uqbar-wiki"/>

<meta property="og:updated_time" content=" 2017-09-08T12:53:01-03:00" />






  <meta property="keywords" content="" />











    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" >
    <link type="text/plain" rel="author" href="/humans.txt"/>
    <link href="https://fonts.googleapis.com/css?family=Comfortaa" rel="stylesheet">

    <link rel="stylesheet" href="/assets/app-03d85529abca8a6b9780ed56673aae09.css">
    <style>
        .navbar {
            -webkit-backface-visibility: hidden;
        }
    </style>
</head>

<body>

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <li class="name">
            <div id="pagetitle"><a id="pagetitle" href="/">uqbar-wiki</a></div>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>

    <div class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            <li class="has-dropdown">
                <a href="#">Ayuda</a>
                <ul class="dropdown">
                    <li><a class="link article_link" href="/wiki/articles/FAQ.html">FAQ</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/como-empezar.html">Cómo colaborar</a></li>
                </ul>
            </li>
        </ul>

        <!-- Left Nav Section -->
        <ul class="left">
            <li class="has-dropdown">
                <a href="#">Navegación</a>
                <ul class="dropdown">
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
                    <li class="link article_link" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
                </ul>
            </li>
        </ul>
    </div>

</nav>

<div class="column small-0 medium-2 large-2 sidebar" style="margin-top: 10px;">
    <div class="rows" align="center">
        <img src="/img/logoUqbar.jpg" height="70%" width="70%">
    </div>
    <div align="center">
    	<p>
    		<a href="http://www.uqbar-project.org/">Conocenos</a> 
    	</p>
    </div>

    <hr>

    <ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Links" role="menu">
        <li class="button" role="menuitem"><a href="/">Home</a></li>
        <li class="button" role="menuitem"><a href="/articles">Lista de articulos</a></li>
    </ul>

    <hr>

	<ul class="rows small-12 medium-10 large-10 side-nav stack button-group" title="Materias" role="menu">
            <li class="button" role="menuitem"><a href="/wiki/articles/paradigmas-de-programacion.html">Paradigmas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/design-temario.html">Diseño - Algoritmos II</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/tecnicas-avanzadas-de-programacion.html">Técnicas avanzadas de programación</a></li>
        <li class="button" role="menuitem"><a href="/wiki/articles/algo3-temario.html">Algoritmos III</a></li>
    </ul>
</div>

<div class="column small-12 medium-10 large-10">
    <div id="article_title">
    <h1>
        <i>Composicion</i>
    </h1>

    <div id="siteSub">De Uqbar wiki</div>
</div>



<div id="article_content">
    <h2 id="qué-es-composición">Qué es composición?</h2>

<p>¿Qué queremos decir con ‘Componer’?<br />
Lo mismo que con composición de funciones en matemática.</p>

<p>fog(x) es lo mismo que f(g(x))</p>

<p>Es decir que lo que devuelve g, hay que aplicárselo a f. A tener en cuenta, tanto f como g tienen que ser funciones, no podemos componer una función con un 2, o un 2 con una lista.</p>

<blockquote>
  <p>Sólo podemos componer funciones</p>
</blockquote>

<p>Para componer dos funciones en Haskell, por ejemplo f y g, se hace así</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">f</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">g</span>
</code></pre>
</div>

<p>eso arma una nueeeva función, resultado de componer f con g.</p>

<h3 id="ejemplo">Ejemplo</h3>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">even</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">succ</span>
</code></pre>
</div>

<p>Esta formada por la composición de <em>even</em> que recibe un numero y devuelve un Bool que indica si es par o no, y <em>succ</em> que recibe un numero y devuelve el siguiente. Esa composición te devuelve una nueva función que recibe un número y te devuelve el resultado de primero sumarle uno y luego ver si es par:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>(not . even) 2       (espero se entiendan mis flechitas xD)
  ^  |  ^    |
  |__|  |____|
</code></pre>
</div>

<p>Fijate que el 2 se aplica a la función de la derecha y el resultado de eso se aplica a la función de la izquierda. Y ese sería el resultado final de la función.</p>

<p>Tanto lo de la izquierda como lo de la derecha del punto, tienen que ser funciones que reciban 1 parámetro (al menos en paradigmas, lo otro es más complejo). Y a su vez, el <strong>tipo que retorna la función de la derecha, tiene que ser el mismo que el tipo que espera recibir la función de la izquierda</strong>. En este caso, <code class="highlighter-rouge">even</code> es una función que recibe un <em>Integral</em> (ver <a href="typeclasses.html">typeclasses</a>) y retorna un Bool.</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">even</span><span class="err"> </span><span class="o">::</span><span class="err"> </span><span class="kt">Integral</span><span class="err"> </span><span class="n">a</span><span class="err"> </span><span class="o">=&gt;</span><span class="err"> </span><span class="n">a</span><span class="err"> </span><span class="o">-&gt;</span><span class="err"> </span><span class="kt">Bool</span>
</code></pre>
</div>

<p>y <code class="highlighter-rouge">not</code> recibe un Bool y retorna otro.</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">not</span><span class="err"> </span><span class="o">::</span><span class="err"> </span><span class="kt">Bool</span><span class="err"> </span><span class="o">-&gt;</span><span class="err"> </span><span class="kt">Bool</span>
</code></pre>
</div>

<p>Conviene prestar atención a lo siguiente: lo que devuelve <code class="highlighter-rouge">even</code>, coincide con lo que recibe <code class="highlighter-rouge">not</code>. Eso hace posible la composición!</p>

<h2 id="preguntas-frecuentes">Preguntas Frecuentes</h2>

<h3 id="es-necesesario-que-esten-los-puntos-para-que-sea-composicion">¿Es necesesario que esten los puntos para que sea composicion?</h3>

<p>Porque para mí está implícito que hay composición, si por ejemplo en lugar de:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">impar</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">not</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">even</span>
</code></pre>
</div>

<p>pongo</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">impar</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">not</span><span class="err"> </span><span class="n">even</span>
</code></pre>
</div>

<p><strong>Sí, es necesario.</strong> En el segundo ejemplo estas aplicando even a not, y not espera un Bool, no una función y por ende, ni compila por error de tipos.</p>

<p>En cambio, cuando hacés</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">not</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">even</span>
</code></pre>
</div>

<p>estás armando una <strong>nueva función</strong> que recibe un número, ve si es par y después lo niega. La forma de armar la función que querés, según el segundo ejemplo sería:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">not</span><span class="err"> </span><span class="p">(</span><span class="n">even</span><span class="err"> </span><span class="mi">3</span><span class="p">)</span>
</code></pre>
</div>

<p>Y en el segundo se aplicaría así:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="p">(</span><span class="n">not</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">even</span><span class="p">)</span><span class="err"> </span><span class="mi">3</span>
</code></pre>
</div>

<h2 id="cuándo-usar-composición">Cuándo usar composición</h2>

<p>¿Cuál es la diferencia entre estas dos definiciones?</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">impar</span><span class="err"> </span><span class="n">n</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">not</span><span class="err"> </span><span class="p">(</span><span class="n">even</span><span class="err"> </span><span class="n">n</span><span class="p">)</span>
<span class="n">impar</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">not</span><span class="err"> ◦ </span><span class="n">even</span>
</code></pre>
</div>

<p>En un primer nivel de análisis, ambas definiciones son <strong>equivalentes</strong>.</p>

<p>Sin embargo, si analizamos solamente las expresiones a la derecha del igual encontramos que</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">not</span><span class="err"> </span><span class="p">(</span><span class="n">even</span><span class="err"> </span><span class="n">n</span><span class="p">)</span>
</code></pre>
</div>

<p>y</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">not</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">even</span>
</code></pre>
</div>

<p><strong>son distintas</strong>: la primera <em>denota</em> un <em>valor booleano</em> (True o False) mientras que la segunda denota <em>una función</em>.</p>

<p>Esta segunda expresión es más poderosa en cuanto a que nos permite hacer más cosas que la primera, ya que la construcción de la función independiente de su aplicación sirve, por ejemplo, para trabajar con <a href="orden-superior.html">funciones de orden superior</a>.</p>

<p>En cuanto a la definición de función, no tiene grandes ventajas sobre salvo que nos ayuda a entrenarnos en el uso de la composición, que después podemos utilizar para otras cosas. Sin embargo, una de las virtudes asociadas si se reemplazan muchas aplicaciones anidadas por composición de funciones podría implicar un código más limpio, porque la sintaxis de Haskell está diseñada de modo que eso suceda.</p>

<h2 id="errores-comunes">Errores comunes</h2>

<h3 id="ejemplo-1">Ejemplo</h3>

<p>Supongamos una lista de alumnos de los cuales se sabe su nombre y su nota. Queremos obtener los nombres de los alumnos aprobados.</p>

<p>Podemos suponer además la existencia de las funciones:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">nombres</span><span class="err"> </span><span class="o">::</span> <span class="p">[</span><span class="kt">Alumno</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>
<span class="n">aprobados</span><span class="err"> </span><span class="o">::</span> <span class="p">[</span><span class="kt">Alumno</span><span class="p">]</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">Alumno</span><span class="p">]</span>
</code></pre>
</div>

<p>Un error que veo con frecuencia es hacer:</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">nombreDeAprobados</span><span class="err"> </span><span class="n">alumnos</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">nombres</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">aprobados</span><span class="err"> </span><span class="n">alumnos</span>
</code></pre>
</div>

<p>La composición es una operación <em>entre funciones</em> esto quiere decir que a ambos lados del “.” <strong>debe</strong> haber una función. ¿Qué hay a cada lado del “.” en este caso:</p>

<ul>
  <li>
    <p><code class="highlighter-rouge">nombres</code> , no hay problema: es una función (de listas de alumnos/tuplas en listas de nombres);</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">aprobados alumnos</code> … sí hay problema! No es una función, es una lista de alumnos.</p>
  </li>
</ul>

<p>Diciéndolo “en fácil”: debo componer funciones, no vale componer valores. Si yo a una función le aplico todos los parámetros deja de ser una función y pasa a ser un valor “simple”. En este caso, <code class="highlighter-rouge">aprobados</code> es una función, mientras que <code class="highlighter-rouge">aprobados alumnos</code> es un valor, y como tal no se puede componer. <em>Tal vez sea interesante ver el efecto de la <a href="currificacion.html">currificación</a> en Haskell.</em></p>

<h3 id="correcciones-posibles">Correcciones posibles</h3>

<p>Sin composición</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">aprobados</span><span class="err"> </span><span class="n">alumnos</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">nombres</span><span class="err"> </span><span class="p">(</span><span class="n">aprobados</span><span class="err"> </span><span class="n">alumnos</span><span class="p">)</span>
</code></pre>
</div>

<p>Es decir uso <em>aplicación</em> en lugar de composición (ojo, esto funciona pero si en estamos en un parcial y se desea evaluar que el alumno sepa composición… ahí no están usando composición entonces puede no ser suficiente como solución al ejercicio).</p>

<p>Con composición</p>

<div class="language-haskell highlighter-rouge"><pre class="highlight"><code><span class="n">nombreDeAprobados</span><span class="err"> </span><span class="o">=</span><span class="err"> </span><span class="n">nombres</span><span class="err"> </span><span class="o">.</span><span class="err"> </span><span class="n">aprobados</span>
</code></pre>
</div>

<p>Claramente son funciones las dos expresiones a ambos lados del “.”. (Notese que a la derecha del “=” también hay un parámetro menos.)</p>

<p>Pueden encontrar otro ejemplo sobre esta clase de errores en <a href="errores-comunes-al-comenzar-a-trabajar-con-haskell.html"> Errores con composición y aplicación parcial</a></p>

<h3 id="composición-vs-aplicación">Composición vs. Aplicación</h3>

<p>Para terminar de entenderlo recuerden la matemática, ¿es lo mismo que ? Claramente si g es una función yo no puedo hacer . Por otro lado, si en lugar de una función g tuviera un valor real x, entonces puedo hacer pero no .</p>

<h3 id="algunos-detalles-técnicos">Algunos detalles técnicos</h3>

<p>Si bien en general intentamos concentrarnos en los conceptos y no prestar tanta atención al conocimiento en sí del lenguaje; para poder expresar correctamente una composición en Haskell es necesario comprender correctamente algunos detalles de la sintaxis del Haskell:</p>

<ol>
  <li>
    <p>Si pongo un “.” es composición, sino es aplicación. Los dos conceptos son bien distintos y es muy importante comprender la diferencia; por lo tanto es necesario ser bien explícito sobre cuándo se esta queriendo utilizar uno u otro. En criollo, se tiene que notar dónde hay un punto y dónde no.</p>
  </li>
  <li>
    <p>El operador de composición tiene poca precedencia. (Ver <a href="aplicacion-parcial.html">Aplicación Parcial</a>)  Por lo tanto la expresión <code class="highlighter-rouge">not . even 3</code> debe leerse como <code class="highlighter-rouge">not . (even 3)</code> (y por lo tanto es incorrecta). Una alternativa posible es alterar la precedencia explícitamente usando paréntesis, por ejemplo <code class="highlighter-rouge">(not.even) 3</code>; donde <em>primero</em> se componen las funciones, eso produce una nueva función, y a esa nueva función le aplico el 3 como parámetro.</p>
  </li>
</ol>

<p>Para más información puede leer: <a href="precedencia-de-los-operadores-mas-comunes-en-haskell.html">Precedencia de los operadores más comunes en Haskell</a> y <a href="cuando-usar-parentesis.html">Cuándo usar paréntesis</a></p>

</div>



<div id="article_metadata">
    <p><i>Latest update on July 17, 2017 by
        GitHub</i></p>

    <ul class="accordion" data-accordion>
        <li class="accordion-navigation">
            <a href="#panel1a">Page History, Meta information</a>

            <div id="panel1a" class="content">

                <div class="rows">
                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Page Commits</th>
                                <th>Page Additions</th>
                                <th>Page Deletions</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr>
                                <td>1</td>
                                <td>184</td>
                                <td>0</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="column small-12 medium-6 large-6">
                        <table>
                            <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Commits</th>
                            <tr>
                            </thead>

                            <tbody>
                            
                            <tr>
                                <td>Fernando Dodino</td>
                                <td>fernand...</td>
                                <td>1</td>
                            </tr>
                            
                            </tbody>
                        </table>
                    </div>
                </div>

                <table style="margin-left: 15px;">
                    <thead>
                    <tr>
                        <th>Hash</th>
                        <th>Time</th>
                        <th>Name</th>
                        <th>Mail</th>
                        <th>Subject</th>
                    <tr>
                    </thead>

                    <tbody>
                    
                    <tr>
                        <td>917a5fe</td>
                        <td>Mon Jul 17 23:16:02 2017 -0300</td>
                        <td>GitHub</td>
                        <td>noreply...</td>
                        <td>Update deploy-en-maven-central.md</td>
                    </tr>
                    
                    </tbody>
                </table>

            </div>
        </li>
    </ul>

</div>


</div>


<div id="footer">
    <div class="columns small-1 medium-2 large-3">
        <small>(C) 2015-17 Matthias Beyer - Ernesto Bossi</small>
    </div>

    <div class="columns small-11 medium-10 large-9">
    </div>

</div>

<script>
    'use strict';
</script>

<script src="/assets/jquery-9954088f87089c387789507249fa70d3.js"></script>
<script src="/assets/jquery.min-650c8b3af3d010ec559014c6e70b13c3.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<script src="/assets/foundation/foundation-8e0f071884576348dba555b27a4bcaa9.js"></script>
<script src="/assets/foundation/foundation.abide-fa5ce9fbf8301ae49154ebc752edc220.js"></script>
<script src="/assets/foundation/foundation.accordion-bcc423fb0c2a3d515ba85ff591171a8e.js"></script>
<script src="/assets/foundation/foundation.alert-609b779b55610f4916250faaa37d1cfc.js"></script>
<script src="/assets/foundation/foundation.clearing-167db0285c7a789f7f216183f9038ac4.js"></script>
<script src="/assets/foundation/foundation.dropdown-25aac997ca0ca5dc3c3094c266c8f5aa.js"></script>
<script src="/assets/foundation/foundation.equalizer-cbdd8079a6f777c37dd1314f9b17faec.js"></script>
<script src="/assets/foundation/foundation.interchange-6ef75863aff8abeff4de79554b62e1b9.js"></script>
<script src="/assets/foundation/foundation.joyride-7cce0075f55d456449419a92671a3874.js"></script>
<script src="/assets/foundation/foundation.magellan-dc0647982e238cf1db3113e50d1b85dd.js"></script>
<script src="/assets/foundation/foundation.offcanvas-61dc0fe57ed932800c4a09b92c1ba4e5.js"></script>
<script src="/assets/foundation/foundation.orbit-9698da4fd068f7b83b3e5c00aae63ab3.js"></script>
<script src="/assets/foundation/foundation.reveal-4944447a204c398659229cfd716786a1.js"></script>
<script src="/assets/foundation/foundation.slider-7ea4b29f663e7e1b52ddc9f7ca0458b3.js"></script>
<script src="/assets/foundation/foundation.tab-c2efa8f5f8b255b06db277c3f339a0c7.js"></script>
<script src="/assets/foundation/foundation.tooltip-4a5d212b8f811ff50bba6cc61a2b899a.js"></script>
<script src="/assets/foundation/foundation.topbar-4dd840d30430ff2146208830574ca615.js"></script>

<script src="/assets/jquery.cookie-61d99d4505fb2f5359bf351153c83f1d.js"></script>
<!-- Script pointing to jekyll-search.js -->
<script src="/assets/jekyll-search-2c27791d765f338cd196c9aa9a050936.js"></script>

<script>
    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: "/search.json"
    });

    $(document).foundation();

</script>

<!-- prism.js -->
<script src="/assets/prism-1eea551ba45e704ef55167430bb80ce4.js"></script>
</body>
</html>
